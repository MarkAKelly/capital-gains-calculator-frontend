@import uk.gov.hmrc.play.views.html.helpers.form
@import views.html.helpers._
@import views.html.helpers.resident._
@import models.resident.properties.ReliefsModel
@import uk.gov.hmrc.play.views.helpers.MoneyPounds
@import views.html.calculation.resident._

@(reliefsForm: Form[ReliefsModel], totalGain: BigDecimal, navHomeLink: String)(implicit request: Request[_])

@hiddenHelpTextContent = {
<p>@Messages("calc.resident.reliefsNoPrr.additionalContent.one")
    <a id="reliefsLink" target="_blank" href="https://www.gov.uk/tax-sell-home/absence-from-home">@Messages("calc.resident.reliefsNoPrr.link.one")
        <s>@Messages("calc.base.externalLink")</s></a>
</p>
}

@resident_main_template(
title = Messages("calc.resident.reliefsNoPrr.title",
MoneyPounds(totalGain, 0).quantity),
backLink = Some(controllers.resident.properties.routes.GainController.improvements.toString()),
homeLink = navHomeLink,
navTitle = Messages("calc.base.resident.properties.home")) {

@errorSummary(reliefsForm, "reliefs")

<h1>@Messages("calc.resident.reliefsNoPrr.question", MoneyPounds(totalGain, 0).quantity)</h1>

@form(action = controllers.resident.properties.routes.DeductionsController.submitReliefs) {

<div class="form-group">
    @formInputRadioGroup(
    field = reliefsForm("isClaiming"),
    Seq(
    "Yes"->Messages("calc.base.yes"),
    "No"->Messages("calc.base.no")),
    '_legend -> Messages("calc.resident.reliefsNoPrr.question", MoneyPounds(totalGain, 0).quantity),
    '_legendID -> "isClaiming",
    '_legendClass -> "visuallyhidden",
    '_helpText -> Messages("calc.resident.reliefsNoPrr.helpText"),
    '_labelAfter -> true,
    '_labelClass -> "block-label",
    '_groupClass -> "inline",
    '_fieldsetAttributes -> "aria-details = help"
    )
</div>

<input type="hidden" name="isClaiming" value="" />
<button class="button" type="submit" id="continue-button">@Messages("calc.base.continue")</button>

}

@expandableHelpTextHelper(Messages("calc.resident.reliefsNoPrr.helpButton"), hiddenHelpTextContent)
}